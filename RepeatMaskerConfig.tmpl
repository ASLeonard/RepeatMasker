#!/usr/bin/perl
##---------------------------------------------------------------------------##
##  File:
##      @(#) RepeatMaskerConfig.pm
##  Author:
##      Arian Smit <asmit@systemsbiology.org>
##      Robert Hubley <rhubley@systemsbiology.org>
##  Description:
##      This is the main configuration file for the RepeatMasker
##      program suite.  Before you can run the programs included
##      in this package you will need to edit this file and
##      configure for your site.  NOTE: There is also a "configure"
##      script which will help you do this.
##
#******************************************************************************
#* Copyright (C) Institute for Systems Biology 2005 Developed by
#* Arian Smit and Robert Hubley.
#*
#* This work is licensed under the Open Source License v2.1.  To view a copy
#* of this license, visit http://www.opensource.org/licenses/osl-2.1.php or
#* see the license.txt file contained in this distribution.
#*
###############################################################################
package RepeatMaskerConfig;
use FindBin;
require Exporter;
@EXPORT_OK = qw( $WUBLAST_DIR $HMMER_DIR $CROSSMATCH_DIR $RMBLAST_DIR $TRF_PRGM 
                 $DEBUGALL $DEFAULT_SEARCH_ENGINE );
%EXPORT_TAGS = ( all => [ @EXPORT_OK ] );
@ISA         = qw(Exporter);

BEGIN {
##----------------------------------------------------------------------##
##     CONFIGURE THE FOLLOWING PARAMETERS FOR YOUR INSTALLATION         ##
##                                                                      ##
## Search Engine Configuration:
##   RepeatMasker uses either the CrossMatch, RMBlast, WUBlast/ABBlast, 
##   or the HMMER search engine to find matches to interspersed
##   repeat consensi or profile HMMs.  You are only required to have one engine
##   installed on your system in order to run RepeatMasker.  
##   
##   The optional program RepeatProteinMask will only run
##   with the RMBlast or WUBlast/ABBlast package ( currently ).  
##

  ##
  ## CrossMatch Location
  ## ===================
  ## The path to Phil Green's cross_match program ( phrap program suite ).
  ##   - Use cross_match version 980501 or later for best results
  ##   - On a windows machine running the cygwin emulation software
  ##     you might set this to something like this:
  ##
  ##            $CROSSMATCH_DIR = "/usr/local/phrap";
  ##
    $CROSSMATCH_DIR = "/usr/local/bin";

  ##
  ## HMMER Location
  ## ========================
  ## Set the location of the HMMER programs and support utilities.
  ##
    $HMMER_DIR   = "/usr/local/hmmer";

  ##
  ## RMBlast Location
  ## ========================
  ## Set the location of the NCBI RMBLAST programs and support utilities.
  ##
    $RMBLAST_DIR   = "/usr/local/rmblast";
 
  ##
  ## WUBLAST/ABBlast Location
  ## ========================
  ## Set the location of the WUBLAST/ABBlast programs and support utilities.
  ##
    $WUBLAST_DIR   = "/usr/local/abblast";
  
##
## Default Search Engine
## =====================
##  Pick which search engine should be the default
##  Can be one of "crossmatch", "wublast", "decypher" or "ncbi".
##
  $DEFAULT_SEARCH_ENGINE = "crossmatch";

##
## TRF Location 
## ============
##
  $TRF_PRGM = "/usr/local/bin/trf";

##
## Turns on debugging in all RepeatMasker modules/scripts
##
  $DEBUGALL = 0;

##                                                                      ##
##                      END CONFIGURATION AREA                          ##
##----------------------------------------------------------------------##

##----------------------------------------------------------------------##
## DO NOT MODIFY ANYTHING BELOW THIS LINE
##----------------------------------------------------------------------##

# Call as apply_config_override(\$var, env => "VAR_NAME");
sub apply_config_override {
    my ($var, %overrides) = @_;

    # Only "env" supported, but this way we could add other overrides in the future
    if (defined $overrides{"env"}) {
        my $env_name = $overrides{"env"};
        if (defined $ENV{$env_name}) {
            ${$var} = $ENV{$env_name};
        }
    }
}

}

1;
